(function(){function ab(){return"tinymce";}function b(af){return x()!="3"&&af.inline;}function aa(af){return af.id.replace(/\[/,"_").replace(/\]/,"_");}function ad(ag){if(x()=="3"||!b(ag)){return ag.getContainer();}var af=window.document.getElementById(ag.theme.panel._id);return af;}function e(af){return af.getDoc();}function W(af){return af.getContent();}function s(ag,af){ag.setContent(af);}function n(af){if(tinymce.activeEditor==null||tinymce.activeEditor.selection==null){return null;}return tinymce.activeEditor.selection.getNode();}function j(){return tinymce.baseURL;}function Q(){return a("jsplus_easy_image");}function a(ak){for(var ai=0;ai<tinymce.editors.length;ai++){var aj=tinymce.editors[ai];var ah=E(aj,"external_plugins");if(typeof ah!="undefined"&&typeof ah[ak]!="undefined"){var ag=ah[ak].replace("\\","/");var af=ag.lastIndexOf("/");if(af==-1){ag="";}else{ag=ag.substr(0,af)+"/";}return ag;}}return j()+"/plugins/"+ak+"/";}function x(){return tinymce.majorVersion=="4"?4:3;}function m(){return tinymce.minorVersion;}function P(ag,af){return window["jsplus_easy_image_i18n"][af];}function q(ag,af){return E(ag,"jsplus_easy_image_"+af);}var R={};function E(ag,af){if(typeof(R[af])!="undefined"){return ag.getParam(af,R[af]);}else{return ag.getParam(af);}}function X(af,ag){ac("jsplus_easy_image_"+af,ag);}function ac(af,ag){R[af]=ag;}function u(ag,af){if(x()==4){ag.insertContent(af);}else{ag.execCommand("mceInsertContent",false,af);}}function I(){return"";}var w={};var ae=0;function k(ah,af){var ag=aa(ah)+"$"+af;if(ag in w){return w[ag];}return null;}function H(ai,aB,aA,aq,am,au,az,an,ak,ah,ax){var ay=aa(ai)+"$"+aB;if(ay in w){return w[ay];}ae++;var ar="";var ao={};for(var at=au.length-1;at>=0;at--){var af=au[at];var al=aa(ai)+"_jsplus_easy_image_"+ae+"_"+at;var aj=null;if(af.type=="ok"){aj=-1;}else{if(af.type=="cancel"){aj=-2;}else{if(af.type=="custom"&&typeof(af.onclick)!="undefined"&&af.onclick!=null){aj=af.onclick;}}}ao[al]=aj;if(x()==3){var av="border: 1px solid #b1b1b1;"+"border-color: rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25) rgba(0,0,0,.25);position: relative;"+"text-shadow: 0 1px 1px rgba(255,255,255,.75);"+"display: inline-block;"+"-webkit-border-radius: 3px;"+"-moz-border-radius: 3px;"+"border-radius: 3px;"+"-webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"-moz-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"background-color: #f0f0f0;"+"background-image: -moz-linear-gradient(top,#fff,#d9d9d9);"+"background-image: -webkit-gradient(linear,0 0,0 100%,from(#fff),to(#d9d9d9));"+"background-image: -webkit-linear-gradient(top,#fff,#d9d9d9);"+"background-image: -o-linear-gradient(top,#fff,#d9d9d9);"+"background-image: linear-gradient(to bottom,#fff,#d9d9d9);"+"background-repeat: repeat-x;"+"filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffd9d9d9', GradientType=0);";if(af.type=="ok"){av="text-shadow: 0 1px 1px rgba(255,255,255,.75);"+"display: inline-block;"+"-webkit-border-radius: 3px;"+"-moz-border-radius: 3px;"+"border-radius: 3px;"+"-webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"-moz-box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"box-shadow: inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);"+"min-width: 50px;"+"color: #fff;"+"border: 1px solid #b1b1b1;"+"border-color: rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25) rgba(0,0,0,.25);"+"background-color: #006dcc;"+"background-image: -moz-linear-gradient(top,#08c,#04c);"+"background-image: -webkit-gradient(linear,0 0,0 100%,from(#08c),to(#04c));"+"background-image: -webkit-linear-gradient(top,#08c,#04c);"+"background-image: -o-linear-gradient(top,#08c,#04c);"+"background-image: linear-gradient(to bottom,#08c,#04c);"+"background-repeat: repeat-x;"+"filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff0088cc', endColorstr='#ff0044cc', GradientType=0);";}styleBtn="-moz-box-sizing: border-box;"+"-webkit-box-sizing: border-box;"+"box-sizing: border-box;"+"padding: 4px 10px;"+"font-size: 14px;"+"line-height: 20px;"+"cursor: pointer;"+"text-align: center;"+"overflow: visible;"+"-webkit-appearance: none;"+"background: none;"+"border: none;";if(af.type=="ok"){styleBtn+="color: #fff;text-shadow: 1px 1px #333;";}ar+='<div tabindex="-1" style="'+av+"position:relative;float:right;top: 10px;height: 28px;margin-right:15px;text-align:center;"+'">'+'<button id="'+al+'" type="button" tabindex="-1" style="'+styleBtn+"height:100%"+'">'+escapeHtml(af.title)+"</button>"+"</div>";}else{ar+='<div class="mce-widget mce-btn '+(af.type=="ok"?"mce-primary":"")+' mce-abs-layout-item" tabindex="-1" style="position:relative;float:right;top: 10px;height: 28px;margin-right:15px;text-align:center">'+'<button id="'+al+'" type="button" tabindex="-1" style="height: 100%;">'+escapeHtml(af.title)+"</button>"+"</div>";}}if(x()==3){var ap='<div style="display: none; position: fixed; height: 100%; width: 100%;top:0;left:0;z-index:19000" data-popup-id="'+ay+'">'+'<div style="position: absolute; height: 100%; width: 100%;top:0;left:0;background-color: gray;opacity: 0.3;z-index:-1"></div>'+'<div class="mce_dlg_jsplus_easy_image" style="display: table-cell; vertical-align: middle;z-index:19005">'+'<div class="" '+'style="'+"border-width: 1px; margin-left: auto; margin-right: auto; width: "+aq+"px;"+"-webkit-border-radius: 6px;-moz-border-radius: 6px;border-radius: 6px;-webkit-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);-moz-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);"+"box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);background: transparent;background: #fff;"+"-webkit-transition: opacity 150ms ease-in;transition: opacity 150ms ease-in;"+"border: 0 solid #9e9e9e;background-repeat:repeat-x"+'">'+'<div style="padding: 9px 15px;border-bottom: 1px solid #c5c5c5;position: relative;">'+'<div style="line-height: 20px;font-size: 20px;font-weight: 700;text-rendering: optimizelegibility;padding-right: 10px;">'+escapeHtml(aA)+"</div>"+'<button style="position: absolute;right: 15px;top: 9px;font-size: 20px;font-weight: 700;line-height: 20px;color: #858585;cursor: pointer;height: 20px;overflow: hidden;background: none;border: none;padding-top: 0 !important; padding-right: 0 !important;padding-left: 0 !important" type="button" id="'+aa(ai)+"_jsplus_easy_image_"+ae+'_close">×</button>'+"</div>"+'<div style="overflow:hidden">'+am+'<div hidefocus="1" tabindex="-1" '+'style="border-width: 1px 0px 0px; left: 0px; top: 0px; height: 50px;'+"display: block;background-color: #fff;border-top: 1px solid #c5c5c5;-webkit-border-radius: 0 0 6px 6px;-moz-border-radius: 0 0 6px 6px;border-radius: 0 0 6px 6px;"+"border: 0 solid #9e9e9e;background-color: #f0f0f0;background-image: -moz-linear-gradient(top,#fdfdfd,#ddd);background-image: -webkit-gradient(linear,0 0,0 100%,from(#fdfdfd),to(#ddd));"+"background-image: -webkit-linear-gradient(top,#fdfdfd,#ddd);background-image: -o-linear-gradient(top,#fdfdfd,#ddd);"+"background-image: linear-gradient(to bottom,#fdfdfd,#ddd);background-repeat: repeat-x;"+'">'+'<div class="mce-container-body mce-abs-layout" style="height: 50px;">'+'<div class="mce-abs-end"></div>'+ar+"</div>"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>";
}else{var ap='<div style="display: none; font-family:Arial; position: fixed; height: 100%; width: 100%;top:0;left:0;z-index:19000" data-popup-id="'+ay+'">'+'<div style="position: absolute; height: 100%; width: 100%;top:0;left:0;background-color: gray;opacity: 0.3;z-index:-1"></div>'+'<div class="mce_dlg_jsplus_easy_image" style="display: table-cell; vertical-align: middle;z-index:19005">'+'<div class="" '+'style="'+"border-width: 1px; margin-left: auto; margin-right: auto; width: "+aq+"px;"+"-webkit-border-radius: 6px;-moz-border-radius: 6px;border-radius: 6px;-webkit-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);-moz-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);"+"box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);background: transparent;background: #fff;"+"-webkit-transition: opacity 150ms ease-in;transition: opacity 150ms ease-in;"+"border: 0 solid #9e9e9e;background-repeat:repeat-x"+'">'+'<div  class="mce-window-head">'+'<div class="mce-title">'+escapeHtml(aA)+"</div>"+'<button class="mce-close" type="button" id="'+aa(ai)+"_jsplus_easy_image_"+ae+'_close" style="background:none;border:none">×</button>'+"</div>"+'<div class="mce-container-body mce-abs-layout">'+am+'<div class="mce-container mce-panel mce-foot" hidefocus="1" tabindex="-1" style="border-width: 1px 0px 0px; left: 0px; top: 0px; height: 50px;">'+'<div class="mce-container-body mce-abs-layout" style="height: 50px;">'+'<div class="mce-abs-end"></div>'+ar+"</div>"+"</div>"+"</div>"+"</div>"+"</div>";}var ag=createElementsFromHtml(ap)[0];var aw={$:ag,appendedToDOM:false,num:ae,editor:ai,open:function(){if(!this.appendedToDOM){this.editor.getElement().parentNode.appendChild(this.$);var aE=this;for(var aF in ao){var aC=ao[aF];if(aC!=null){var aD=document.getElementById(aF);if(aC===-1){aD.onclick=function(){aE.ok();};}else{if(aC===-2){aD.onclick=function(){aE.cancel();};}else{aD.onclick=function(){aC();};}}}}document.getElementById(aa(this.editor)+"_jsplus_easy_image_"+this.num+"_close").onclick=function(){aE.cancel();};this.appendedToDOM=true;if(ax!=null){ax(this.editor);}}if(ak!=null){ak(this.editor);}this.$.style.display="table";},close:function(){this.$.style.display="none";if(ah!=null){ah(this.editor);}},ok:function(){if(az!=null){if(az(this.editor)===false){return;}}aw.close();},cancel:function(){if(an!=null){if(an(this.editor)===false){return;}}this.close();}};w[ay]=aw;return aw;}var c={};var t=0;function r(ag){var af=aa(ag);if(af in c){return c[af];}return null;}function d(am,ag,ak,ai,ao,an){var ap=aa(am);if(ap in c){return c[ap];}t++;var aj="";if(x()==3){aj="<div"+' style="margin-left:-11px;background: #FFF;border: 1px solid gray;z-index: 165535;padding:8px 12px 8px 8px;position:absolute'+(ag!=null?(";width:"+ag+"px"):"")+'">'+ak+"</div>";}else{aj="<div"+' class="mce-container mce-panel mce-floatpanel mce-popover mce-bottom mce-start"'+' style="z-index: 165535;padding:8px 12px 8px 8px'+(ag!=null?(";width:"+ag+"px"):"")+'">'+'<div class="mce-arrow" hidefocus="1" tabindex="-1" role="dialog"></div>'+ak+"</div>";}var al='<div style="z-index:165534;position:absolute;left:0;top:0;width:100%;height:100%;display:none" data-popup-id="'+ap+'">'+aj+"</div>";var ah=createElementsFromHtml(al)[0];var af={$_root:ah,$_popup:ah.children[0],num:t,appendedToDOM:false,editor:am,open:function(){if(!this.appendedToDOM){this.$_root.onclick=(function(){return function(aB){c[this.getAttribute("data-popup-id")].close();aB.stopPropagation();};})();this.$_popup.onclick=function(aB){aB.stopPropagation();};ad(this.editor).appendChild(this.$_root);var ax=this;this.appendedToDOM=true;if(an!=null){an(this.editor);}}if(ai!=null){ai(this.editor);}var av=ad(this.editor);var aA=av.getElementsByClassName("mce_jsplus_easy_image");if(aA.length==0){aA=av.getElementsByClassName("mce-jsplus_easy_image");}if(aA.length==0){console.log("Unable to find button with class 'mce_jsplus_easy_image' or 'mce-jsplus_easy_image' for editor "+aa(this.editor));}else{var aq=aA[0];var az=aq.getBoundingClientRect();var ay=function(aC,aB){var aE=0,aD=0;do{aE+=aC.offsetTop||0;aD+=aC.offsetLeft||0;aC=aC.offsetParent;}while(aC&&aC!=aB);return{top:aE,left:aD};};var ar=ad(this.editor);var at=ay(aq,ar);this.$_popup.style.top=(at.top+aq.offsetHeight)+"px";this.$_popup.style.left=(at.left+aq.offsetWidth/2)+"px";this.$_popup.style.display="block";var aw=document.body;var au=document.documentElement;this.$_root.style.height=Math.max(aw.scrollHeight,aw.offsetHeight,au.clientHeight,au.scrollHeight,au.offsetHeight);this.$_root.style.display="block";}},close:function(){this.$_popup.style.display="none";this.$_root.style.display="none";if(ao!=null){ao(this.editor);}}};c[ap]=af;return af;}var A={};function y(aj,ap,am,an,ak,al,ao){var ah=(function(){var aq=aj;return function(ar){al(aq);};})();var ai=aj;var ag=function(aq,ar){if(!(aa(aq) in A)){A[aa(aq)]={};}A[aa(aq)][ap]=ar;if(ak){tinymce.DOM.remove(ar.getEl("preview"));}if(al!=null){ar.on("click",ah);}if(ao){ao(aq);}};
var af={text:"",type:"button",icon:true,classes:"widget btn jsplus_easy_image btn-jsplus_easy_image-"+aa(aj),image:am,label:an,tooltip:an,title:an,id:"btn-"+ap+"-"+aa(aj),onPostRender:function(){ag(ai,this);}};if(ak){af.type=x()=="3"?"ColorSplitButton":"colorbutton";af.color="#FFFFFF";af.panel={};}if(x()=="3"&&ak){(function(){var aq=false;aj.onNodeChange.add(function(ay,at,au){if(aq){return;}aq=true;var aw=ad(ay);var ax=aw.getElementsByClassName("mce_"+ap);if(ax.length>0){var ar=ax[0];var az=ar.parentNode;var av=az.nextSibling;var aB=createElementsFromHtml('<div id="content_forecolor" role="button" tabindex="-1" aria-labelledby="content_forecolor_voice" aria-haspopup="true">'+'<table role="presentation" class="mceSplitButton mceSplitButtonEnabled mce_forecolor" cellpadding="0" cellspacing="0" title="Select Text Color">'+"<tbody>"+"<tr>"+'<td class="mceFirst">'+"</td>"+'<td class="mceLast">'+'<a role="button" style="width:10px" tabindex="-1" href="javascript:;" class="mceOpen mce_forecolor" onclick="return false;" onmousedown="return false;" title="Select Text Color">'+'<span class="mceOpen mce_forecolor">'+'<span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span>'+"</span>"+"</a>"+"</td>"+"</tr>"+"</tbody>"+"</table>"+"</div>")[0];var aA=aB.getElementsByClassName("mceFirst")[0];az.appendChild(aB);aA.appendChild(ar);ar.style.marginRight="-1px";ar.className=ar.className+" mceAction mce_forecolor";aB.getElementsByClassName("mceOpen")[0].onclick=ah;}});})();}aj.addButton(ap,af);}var J=0;var g=1;var V=2;function i(ag,ai,ah){if(ah!=J&&ah!=g&&ah!=V){return;}if(x()==3){ag.controlManager.setDisabled(ai,ah==J);ag.controlManager.setActive(ai,ah==V);}else{if((aa(ag) in A)&&(ai in A[aa(ag)])){var af=A[aa(ag)][ai];af.disabled(ah==J);af.active(ah==V);}}}function F(af,ag){if(x==3){af.onNodeChange.add(function(ai,ah,aj){ag(ai);});}else{af.on("NodeChange",function(ah){ag(ah.target);});}}function U(ag,af,ah){if(af=="mode"){return;}if(af=="beforeGetOutputHTML"){ag.on("SaveContent",function(ai){ai.content=ah(ag,ai.content);});return;}if(af=="contentDom"){if(x()==4){ag.on("init",function(ai){ah(ag);});}else{ag.onInit.add(function(ai){ah(ai);});}return;}if(af=="elementsPathUpdate"){return;}if(af=="selectionChange"){if(x==3){ag.onNodeChange.add(function(aj,ai,ak){ah(aj);});}else{ag.on("NodeChange",function(ai){ah(ai.target);});}}if(af=="keyDown"){ag.on("keydown",(function(){var aj=ag;var ai=ah;return function(ak){ai(aj,ak.keyCode,ak);};})());}}function K(af){af.preventDefault();}function N(ai,ao,ak,ah,al,af,ag){var am=P(ai,ah.replace(/^jsplus_/,"").replace(/^jsplus_/,""));var an="";if(ag&&ag!=null&&E(ai,ag)===true){an+="_bw";}var aj=Q()+"mce_icons/"+ak+I()+an+".png";y(ai,ao,aj,am,false,al);if(af&&x()>3){ai.addMenuItem(ao,{text:am,context:af,icon:true,image:aj});}}function z(af){return true;}function O(ag,af,ah){if(af!=null&&af!=""){tinymce.PluginManager.requireLangPack(ag);}tinymce.PluginManager.add(ag,function(aj,ai){ah(aj);});}function L(){var af='<button type="button" class="jsdialog_x mce-close"><i class="mce-ico mce-i-remove"></i></button>';if(m().indexOf("0.")===0||m().indexOf("1.")===0||m().indexOf("2.")===0){af='<button type="button" class="jsdialog_x mce-close">×</button>';}JSDialog.Config.skin=null;JSDialog.Config.templateDialog='<div class="jsdialog_plugin_jsplus_easy_image jsdialog_dlg mce-container mce-panel mce-floatpanel mce-window mce-in" hidefocus="1">'+'<div class="mce-reset">'+'<div class="jsdialog_title mce-window-head">'+'<div class="jsdialog_title_text mce-title"></div>'+af+"</div>"+'<div class="jsdialog_content_wrap mce-container-body mce-window-body">'+'<div class="mce-container mce-form mce-first mce-last">'+'<div class="jsdialog_content mce-container-body">'+"</div>"+"</div>"+"</div>"+'<div class="mce-container mce-panel mce-foot" hidefocus="1">'+'<div class="jsdialog_buttons mce-container-body">'+"</div>"+"</div>"+"</div>"+"</div>";JSDialog.Config.templateButton=(m().indexOf("0.")===0||m().indexOf("1.")===0||m().indexOf("2.")===0)?'<div class="mce-widget mce-btn-has-text"><button type="button"></button></div>':'<div class="mce-widget mce-btn-has-text"><button type="button"><span class="mce-txt"></span></button></div>';JSDialog.Config.templateBg='<div class="jsdialog_plugin_jsplus_easy_image jsdialog_bg"></div>';JSDialog.Config.classButton="mce-btn";JSDialog.Config.classButtonOk="mce-primary";JSDialog.Config.contentBorders=[3,1,15,1,73];embedCssStylesToDoc(document,".jsdialog_plugin_jsplus_easy_image.jsdialog_bg { background-color: black; opacity: 0.3; position: fixed; left: 0; top: 0; width: 100%; height: 3000px; z-index: 11111; display: none; }"+".jsdialog_plugin_jsplus_easy_image.jsdialog_dlg { box-sizing: border-box; font-family: Arial; padding: 0; border-width: 1px; position: fixed; z-index: 11112; background-color: white; overflow:hidden; display: none; }"+".jsdialog_plugin_jsplus_easy_image.jsdialog_show { display: block; }"+".jsdialog_plugin_jsplus_easy_image .mce-foot { height: 50px; }"+".jsdialog_plugin_jsplus_easy_image .mce-foot .jsdialog_buttons { padding: 10px; }"+".jsdialog_plugin_jsplus_easy_image .mce-btn-has-text { float: right; margin-left: 5px; text-align: center; }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_contents { font-size: 16px; padding: 10px 0 10px 7px; display: table; overflow: hidden; }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_contents_inner { display: table-cell; vertical-align: middle; }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_icon { padding-left: 100px; min-height: 64px; background-position: 10px 10px; background-repeat: no-repeat; box-sizing: content-box; }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_icon_info { background-image: url(info.png); }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_icon_warning { background-image: url(warning.png); }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_icon_error { background-image: url(error.png); }"+".jsdialog_plugin_jsplus_easy_image .jsdialog_message_icon_confirm { background-image: url(confirm.png); }");
}function T(){var af=false;if(af){var aj=window.location.hostname;var ai=0;var ag;var ah;if(aj.length!=0){for(ag=0,l=aj.length;ag<l;ag++){ah=aj.charCodeAt(ag);ai=((ai<<5)-ai)+ah;ai|=0;}}if(ai!=1548386045){alert(atob("VGhpcyBpcyBkZW1vIHZlcnNpb24gb25seS4gUGxlYXNlIHB1cmNoYXNlIGl0"));return false;}}}function o(){var ag=false;if(ag){var am=window.location.hostname;var al=0;var ah;var ai;if(am.length!=0){for(ah=0,l=am.length;ah<l;ah++){ai=am.charCodeAt(ah);al=((al<<5)-al)+ai;al|=0;}}if(al-1548000045!=386000){var ak=document.cookie.match(new RegExp("(?:^|; )"+"jdm_jsplus_easy_image".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));var aj=ak&&decodeURIComponent(ak[1])=="1";if(!aj){var af=new Date();af.setTime(af.getTime()+(30*1000));document.cookie="jdm_jsplus_easy_image=1; expires="+af.toGMTString();var ah=document.createElement("img");ah.src=atob("aHR0cDovL2Rva3NvZnQuY29tL21lZGlhL3NhbXBsZS9kLnBocA==")+"?p=jsplus_easy_image&u="+encodeURIComponent(document.URL);}}}}var v=101;ac("jsplus_uploader_url",a("jsplus_uploader")+"uploader.php");X("wrap_min_count",1);X("wrap_template","");if(v==101){X("accept_types","image/*");X("template","<img src='{IMAGE}'/>");}else{if(v==102){X("accept_types","image/*");X("template","<a class='jsplus_preview_href' rel='lightbox' href='{IMAGE}'><img src='{PREVIEW}'/></a>");}else{if(v==103){X("accept_types","");X("template","<div style='display:inline-block'>"+'<img src="{PLUGIN_PATH}img/download.png" style="width:24px;height:24px;margin-right:5px;margin-top:-4px;vertical-align: middle"/>'+"<a class='jsplus_easy_file' style=\"font-size:16px;margin-right:15px;\" href='{FILE}'>Download file</a>"+"</div>");}}}if(v==101||v==102){X("img_width",0);X("img_height",0);X("img_enlarge",false);}if(v==102){X("thumb_width",320);X("thumb_height",240);X("thumb_enlarge",true);}function Y(ah){var ai=document.getElementById("jsplus_easy_imageForm");if(ai!=null){ai.parentNode.removeChild(ai);}ai=document.createElement("div");ai.id="jsplus_easy_imageForm";ai.setAttribute("style","display:none");var ag="";if(q(ah,"accept_types").trim().length>0){ag=' accept="'+q(ah,"accept_types")+'"';}ai.innerHTML='<form enctype="multipart/form-data">'+'<input type="file" name="file" multiple="multiple" id="jsplus_easy_imageFile"'+ag+">"+'<input type="submit" id="jsplus_easy_imageSubmit">'+"</form>";document.getElementsByTagName("body")[0].appendChild(ai);var af=document.getElementById("jsplus_easy_imageFile");af.addEventListener("change",(function(){var aj=af;var al=ah;var ak=h(ah);return function(){var ap=aj.files;f(al);var an=ap.length;var ar=new Array(an);var am=0;for(var ao=0;ao<an;ao++){var aq=new FormData();aq.append("file",ap[ao]);C(ao,al,ak,aq,function(au,av,at){ar[au]=at;am++;if(am==an){G(av);p(av,ar);}},function(au,av,at){ar[au]=at;am++;if(am==an){G(av);p(av,ar);}});}};})());af.click();}function p(ai,aj){var al=[];var ah=[];for(var ag=0;ag<aj.length;ag++){if(aj[ag].indexOf("!")===0){al.push(aj[ag].substr(1));}else{ah.push(aj[ag]);}}if(ah.length>0){for(var ag=0;ag<ah.length;ag++){M(ai,ah[ag]);}}if(al.length>0){for(var ag=al.length-1;ag>=1;ag--){var ak=true;for(var af=al.length-2;af>=0;af--){if(al[af]==al[ag]){ak=false;}}if(!ak){delete al[af];}}if(al.length==1){alert("Server returned an error: "+al[0]);}else{for(var ag=0;ag<al.length;ag++){al[ag]="- "+al[ag];}alert("Server returned multiple errors: "+al.join("\n"));}}}function M(ah,af){var ag=B(ah,af);u(ah,ag);}function B(aj,ag){var af=ag.substring(ag.lastIndexOf("/")+1);var ai=q(aj,"template");if(v==101){ai=ai.replace(/\{IMAGE\}/g,ag);ai=ai.replace(/\{FILENAME\}/g,af);return ai;}else{if(v==102){ai=ai.replace(/\{IMAGE\}/g,ag);ai=ai.replace(/\{FILENAME\}/g,af);var ah=ag.split(".");ah[ah.length-2]+="_small";ag=ah.join(".");af=ag.substring(ag.lastIndexOf("/")+1);ai=ai.replace(/\{PREVIEW\}/g,ag);ai=ai.replace(/\{FILENAME\}/g,af);return ai;}else{if(v==103){ai=ai.replace(/\{FILE\}/g,ag);ai=ai.replace(/\{PLUGIN_PATH\}/g,Q());ai=ai.replace(/\{FILENAME\}/g,af);return ai;}}}}function h(aj){var ag=E(aj,"jsplus_uploader_url");if(ag.indexOf("?")>=0){ag+="&";}else{ag+="?";}ag+="client=plupload&";if(v==101){ag+="type=Images";}else{if(v==102){ag+="type=Images&makeThumb=true";}else{if(v==103){ag+="type=Files";}}}if(v==101||v==102){var ah=q(aj,"img_width");var af=q(aj,"img_height");var am=q(aj,"img_enlarge");if(ah>0){ag+="&iw="+ah;}if(af>0){ag+="&ih="+af;}if(am){ag+="&ie=1";}}if(v==102){var ai=q(aj,"thumb_width");var ak=q(aj,"thumb_height");var al=q(aj,"thumb_enlarge");if(ai>0){ag+="&tw="+ai;}if(ak>0){ag+="&th="+ak;}if(al){ag+="&te=1";}}return ag;}function D(ai,ah,af,ag){}function S(ah,ai){if(typeof(window["jsplus_easy_image_insert_range"])!="undefined"&&window["jsplus_easy_image_insert_range"]!=null){var af=window["jsplus_easy_image_insert_range"];window["jsplus_easy_image_insert_range"]=null;var al;if(af.startContainer){al=af.startContainer;if(al.nodeType==document.TEXT_NODE){al=al.parentNode;}else{if(af.startOffset<al.childNodes.length){al=al.childNodes[af.startOffset];}}}else{al=af.parentElement();
}var ak=window["jsplus_easy_image_event_target"];if(!al||ak.nodeName.toLowerCase()=="img"){al=ak;}var aj=createElementsFromHtml(ah);for(var ag=0;ag<aj.count;ag++){al.appendChild(aj[ag]);}}else{u(ai,ah);}}function B(aj,ag){var af=ag.substring(ag.lastIndexOf("/")+1);var ai=q(aj,"template");if(v==101){ai=ai.replace(/\{IMAGE\}/g,ag);ai=ai.replace(/\{FILENAME\}/g,af);return ai;}else{if(v==102){ai=ai.replace(/\{IMAGE\}/g,ag);ai=ai.replace(/\{FILENAME\}/g,af);var ah=ag.split(".");ah[ah.length-2]+="_small";ag=ah.join(".");af=ag.substring(ag.lastIndexOf("/")+1);ai=ai.replace(/\{PREVIEW\}/g,ag);ai=ai.replace(/\{FILENAME\}/g,af);return ai;}else{if(v==103){ai=ai.replace(/\{FILE\}/g,ag);ai=ai.replace(/\{PLUGIN_PATH\}/g,Q());ai=ai.replace(/\{FILENAME\}/g,af);return ai;}}}}function f(af){var ag=Z(af);if(ag!=null){if(ag.tagName=="IMG"){ag.src=ag.src.replace(/(mce_)?icons\/jsplus_easy_image(_3)?(_4\.0)?\.png/,"img/progress.gif");}else{ag.style.backgroundImage=ag.style.backgroundImage.replace(/(mce_)?icons\/jsplus_easy_image(_3)?(_4\.0)?\.png/,"img/progress.gif");}}}function G(af){var ag=Z(af);if(ag!=null){if(ag.tagName=="IMG"){ag.src=ag.src.replace(/img\/progress\.gif/,(ab()=="tinymce"?"mce_":"")+"icons/jsplus_easy_image"+I()+".png");}else{ag.style.backgroundImage=ag.style.backgroundImage.replace(/img\/progress\.gif/,(ab()=="tinymce"?"mce_":"")+"icons/jsplus_easy_image"+I()+".png");}}}function C(ag,ah,af,al,ak,aj){var ai;if(window.XMLHttpRequest){ai=new XMLHttpRequest();}else{ai=new ActiveXObject("Microsoft.XMLHTTP");}ai.onreadystatechange=(function(){var am=ah;var an=ag;return function(){if(ai.readyState==4){if(ai.status==200){ak(an,ah,ai.responseText);}else{aj(an,ah,ai.responseText);}}};})();ai.open("POST",af,true);ai.send(al);}window["jsplus_easy_image_upload_dropped_files"]=function(ah,ag,af,ai){window["jsplus_easy_image_upload_dropped_files_value"]=ah;window["jsplus_easy_image_insert_range"]=af;window["jsplus_easy_image_event_target"]=ai;for(var aj=0;aj<ah.length;aj++){window["jsplus_easy_image_upl"].addFile(ah[aj]);}};function Z(ag){var ai=null;if(x()!=4||!ag.inline){ai=ag.getContainer();}else{ai=window.document.getElementById(ag.theme.panel._id);}if(ai==null){return null;}var ah=ai.getElementsByClassName((x()==4?"mce-mce_button_":"mce_")+"jsplus_easy_image");if(ah.length>0){var af=ah[0].getElementsByTagName(x()==4?"I":"IMG");if(af.length>0){return af[0];}else{return null;}}else{return null;}}tinymce.PluginManager.requireLangPack("jsplus_easy_image");tinymce.PluginManager.add("jsplus_easy_image",function(ag,af){var ah=function(ai){Y(ai);};ag.addButton("jsplus_easy_image",{type:"button",icon:true,image:Q()+"mce_icons/jsplus_easy_image"+I()+".png",classes:"widget btn mce_button_jsplus_easy_image",tooltip:P(ag,"jsplus_easy_image_button_label"),title:P(ag,"jsplus_easy_image_button_label"),onclick:(function(){var ai=ag;return function(){ah(ai);};})()});if(tinymce.majorVersion=="4"){ag.addMenuItem("jsplus_easy_image",{text:P(ag,"jsplus_easy_image_button_label"),context:"insert",icon:true,image:tinymce.baseURL+"/plugins/jsplus_easy_image/jsplus_easy_image.png",onclick:(function(){var ai=ag;return function(){ah(ai);};})()});}});})();